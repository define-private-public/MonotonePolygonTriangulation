<!DOCTYPE html>
<html>

<head>
  <title>Polygon Triangulation</title>
  <link rel="stylesheet" type="text/css" href="https://16bpp.net/statics/styles/main.css">
  <style type="text/css">
    .algorithm-case {
      border: 1px solid black;
      border-radius: 6px;
      margin: 6px 0px;
      padding: 6px;
    }

    h2.mini-header {
      margin-top: 0px;
      margin-bottom: 8px;
    }

    #control-section {
      float: left;
      text-align: center;
    }

    #control-section button {
      width: 100%;
      margin: 2px 0px;;
    }

    #polygon-canvas {
      float: left;
    }
  </style>
</head>

<body>
  <div id="content" style="max-width:750px">
    <h1>X-Monotone Polygon Triangulation</h1>
    <div class="row">
      <div id="interactive">
        <canvas id="polygon-canvas" width="560" height="420"></canvas>
        
        <!-- vertical spacer -->
        <div style="float: left;width: 8px;">&nbsp;</div>

        <div id="control-section">
          <h2 class="mini-header">Controls:</h2>

          <button id="step-through">Step Through [Off]</button><br>
          <button id="triangulate">Triangulate [Off]</button><br>
          <button id="step" disabled>Step</button><br>

          <!-- horizontal spacer -->
          <div style="height: 24px;">&nbsp;</div>

          <h2 class="mini-header">Info:</h2>
          <!--
          <div id="info_side"></div>
          <div id="info_p"></div>
          <div id="info_reflex_chain"></div>
          <div id="info_upper_chain"></div>
          <div id="info_lower_chain"></div>
          -->
        </div>
      </div>
    </div>

    <div id="algorithm" class="algorithm-case">
      <span style="background: yellow">TODO: rewrite the steps to be a bit more accurate</span>

      <h2 class="mini-header">Algorithm:</h2>
      <div id="step-one">Sort the points by an ascending X value.</div>
      <div id="step-two">Push the first two points onto the Reflex Chain.</div>

      <div id="case-one" class="algorithm-case">
        <strong>Case 1:</strong> New Point is on a different chain of the Polygon<br />
        <br />
        Draw a diagonal from each point on the Relfex Chain to the new point.<br />
        <em>v</em> = last Point on the Relfex Chain<br />
        Clear the Relfex Chain<br />
        Put <em>v</em> back onto the Relfex Chain<br />
        Put the new point onto the Reflex Chain
      </div>

      <div id="case-two" class="algoritm-case">
        <div id="case-two-a" class="algorithm-case">
          <strong>Case 2a:</strong> New Point is visible to some (or all) points on the chain.<br />
          <br />
          Draw a diagonal from each point on the Reflex Chain that is visible<br />
          to the new point.<br />
          Remove all of the points from the Relfex Chain where there was a diagonal draw,<br />
          except for the last diagonal.<br />
          Add the new point to the Reflex Chain.
        </div>

        <div id="case-two-b" class="algorithm-case">
          <strong>Case 2b:</strong> New Point is not visible to any other points on the chain<br />
          <br />
          Just add the new point to the Relfex Chain
        </div>
      </div>
    </div>
  </div>
    
<!--
      <p>
        <em style="font-size:12px;">Please enter points in a clock-wise order.</em>
      </p>
        </td>
      </tr>
    </table>
  <br />
  <div id="controls">
    <p>Controls:</p>
    <button id="step_through"></button>
    <button id="triangulate"></button>
    <button id="step"></button>

    <p>Info:</p>
    <div id="info_side"></div>
    <div id="info_p"></div>
    <div id="info_reflex_chain"></div>
    <div id="info_upper_chain"></div>
    <div id="info_lower_chain"></div>

  </div>

-->

  <script type="application/dart" src="triangulate.dart"></script>
<!--  <script type="application/javascript" src="out.js"></script> -->
</body>

</html>
